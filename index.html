<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Chemical Society, IISER TVM (CSIT)</title>
  <style>
    /* -------------------------
       Page background (animated gradient)
       ------------------------- */
    body {
      margin: 0;
      font-family: Tahoma, sans-serif;
      background: linear-gradient(270deg, #071022, #1b2b44, #334a6a, #7aa0d6);
      background-size: 600% 600%;
      animation: gradientBG 20s ease infinite;
      overflow-x: hidden;
    }
    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* -------------------------
       Fullscreen particles canvas (chemistry atoms)
       ------------------------- */
    canvas#molecules {
      position: fixed;
      inset: 0;               /* top:0; left:0; right:0; bottom:0 */
      width: 100%;
      height: 100%;
      pointer-events: none;   /* allow clicks through canvas */
      z-index: 0;             /* behind page content */
      mix-blend-mode: screen; /* optional blending for glow effect */
    }

    /* Make main page elements stack above canvas */
    header, nav, .carousel, main, footer, section {
      position: relative;
      z-index: 1;
    }

    header {
      background-color: rgba(44, 62, 80, 0.85);
      padding: 20px;
      color: white;
      text-align: center;
    }

    nav {
      background-color: rgba(52, 73, 94, 0.85);
      display: flex;
      justify-content: center;
    }

    nav a {
      color: white;
      padding: 14px 20px;
      text-decoration: none;
      display: inline-block;
    }

    nav a:hover {
      background-color: #1abc9c;
    }

    .carousel {
      position: relative;
      width: 100%;
      max-height: 700px;
      overflow: hidden;
    }

    .slides {
      display: flex;
      width: 100%;
      transition: transform 0.5s ease-in-out;
    }

    .slide {
      min-width: 100%;
      box-sizing: border-box;
    }

    .slide img {
      width: 100%;
      height: 700px;
      object-fit: cover;
      display: block;
    }

    .prev, .next, .pause-play {
      cursor: pointer;
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      padding: 10px;
      background-color: rgba(0,0,0,0.5);
      color: white;
      border: none;
      font-size: 18px;
      z-index: 2; /* above slides */
    }

    .prev { left: 10px; }
    .next { right: 10px; }
    .pause-play {
      top: auto;
      bottom: 10px;
      right: 15px;
      transform: none;
    }

    main {
      padding: 20px;
      text-align: center;
    }

    section {
      background-color: rgba(255, 255, 255, 0.9);
      margin: 20px auto;
      padding: 20px;
      border-radius: 10px;
      max-width: 800px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    img.logo {
      max-width: 120px;
      height: auto;
      display: block;
      margin: 0 auto 20px auto;
    }

    footer {
      background-color: rgba(44, 62, 80, 0.85);
      color: white;
      text-align: center;
      padding: 10px;
      position: fixed;
      width: 100%;
      bottom: 0;
      z-index: 1;
    }

    /* responsive tweak for smaller screens */
    @media (max-width: 900px) {
      .slide img { height: 320px; }
    }
  </style>
</head>
<body>
  <!-- Fullscreen canvas for animated "atoms" (keeps everything local) -->
  <canvas id="molecules" aria-hidden="true"></canvas>

  <header>
    <h1>Welcome to Chemical Society, IISER TVM</h1>
    <p>An initiative from School of Chemistry, IISER TVM</p>
  </header>

  <div id="loadingOverlay" style="display:none;">
        <div class="loader">
            <div class="logo-spinner">
                <img src="PHOTOS/LOGO.jpg" alt="CSIT Logo" class="loader-logo">
                <span class="spinner-circle"></span>
            </div>
        </div>
  </div>
    <!-- ...existing code... -->
  <nav>
        <a href="index.html">Home</a>
        <a href="about.html">About</a>
        <a href="initiatives.html">Initiatives</a>
        <a href="gallery.html">Gallery</a>
        <a href="contact.html">Contact</a>
  </nav>
    <!-- ...existing code... -->

  <style>
    /* Loader overlay styles */
    #loadingOverlay {
        position: fixed;
        z-index: 9999;
        inset: 0;
        background: rgba(20, 30, 50, 0.92);
        display: flex;
        align-items: center;
        justify-content: center;
        transition: opacity 0.3s;
    }
    .loader {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        min-width: 100vw;
    }
    .logo-spinner {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 110px;
        height: 110px;
    .loader-logo {
        width: 90px;
        height: 90px;
        border-radius: 50%;
        box-shadow: 0 0 16px #fff8;
        background: #fff;
        object-fit: cover;
        position: absolute;
        top: 10px;
        left: 10px;
        z-index: 2;
        display: block;
    }
    }
    .spinner-circle {
        position: absolute;
        top: 0; left: 0;
        width: 110px;
        height: 110px;
        border-radius: 50%;
        border: 6px solid #e0e0e0;
        border-top: 6px solid #1abc9c;
        box-sizing: border-box;
        animation: spin 1s linear infinite;
        z-index: 1;
    }
    @keyframes spin {
        0% { transform: rotate(0deg);}
        100% { transform: rotate(360deg);}
    }
  </style>

  <script>
  // Loader logic for nav links
  document.addEventListener('DOMContentLoaded', function() {
    const overlay = document.getElementById('loadingOverlay');
    document.querySelectorAll('nav a').forEach(link => {
      link.addEventListener('click', function(e) {
        // Only show loader for real navigation (not #)
        if (this.getAttribute('href') !== '#') {
          e.preventDefault();
          overlay.style.display = 'flex';
          setTimeout(() => {
            window.location.href = this.href;
          }, 1500); // 1.5 seconds delay
        }
      });
    });
  });
  </script>
  <!-- ...existing code... -->

  <!-- Carousel -->
  <div class="carousel">
    <div class="slides" id="slides">
      <div class="slide"><img src="PHOTOS/soc.jpg" alt="Slide 1"></div>
      <div class="slide"><img src="PHOTOS/soc2.jpg" alt="Slide 2"></div>
      <div class="slide"><img src="PHOTOS/soc2.png" alt="Slide 3"></div>
    </div>
    <button class="prev" onclick="changeSlide(-1)">&#10094;</button>
    <button class="next" onclick="changeSlide(1)">&#10095;</button>
    <button class="pause-play" onclick="togglePlayPause()" id="playPauseBtn">⏸</button>
  </div>

  <script>
    /* -----------------------------
       Carousel script (unchanged)
       ----------------------------- */
    let currentIndex = 0;
    let playing = true;
    const slides = document.getElementById("slides");
    const totalSlides = slides.children.length;
    const playPauseBtn = document.getElementById("playPauseBtn");

    function showSlide(index) {
      slides.style.transform = `translateX(-${index * 100}%)`;
    }

    function changeSlide(direction) {
      currentIndex = (currentIndex + direction + totalSlides) % totalSlides;
      showSlide(currentIndex);
    }

    function togglePlayPause() {
      playing = !playing;
      playPauseBtn.textContent = playing ? "⏸" : "▶";
    }

    setInterval(() => {
      if (playing) changeSlide(1);
    }, 3000);
  </script>

  <main>
    <section>
      <img src="PHOTOS/LOGO.jpg" alt="Website Logo" class="logo">
      <h2>Homepage</h2>
      <p>Official website of CSIT</p>
      <p>Page is under construction. Stay tuned for more updates.</p>
    </section>
  </main>

  <footer>
    <p>&copy; Chemical Society, IISER TVM (CSIT). All rights reserved.</p>
  </footer>

  <!-- -----------------------------
       Particles / molecule animation
       (self-contained, no external libs)
       ----------------------------- -->
  <script>
  (function () {
    const canvas = document.getElementById('molecules');
    const ctx = canvas.getContext('2d', { alpha: true });

    // Configuration (tune for performance)
    const cfg = {
      particleCount: 70,
      minRadius: 1.8,
      maxRadius: 4.4,
      maxSpeed: 0.45,
      linkDistance: 110,
      linkAlpha: 0.12,
      repelDistance: 80,
      colors: [
        'rgba(170,255,199,0.95)',
        'rgba(170,210,255,0.95)',
        'rgba(255,220,170,0.95)',
        'rgba(230,180,255,0.95)'
      ]
    };

    let DPR = Math.max(window.devicePixelRatio || 1, 1);
    let width = 0, height = 0;
    let particles = [];
    let last = performance.now();
    let mouse = { x: -9999, y: -9999, active: false };

    function resize() {
      DPR = Math.max(window.devicePixelRatio || 1, 1);
      width = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
      height = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
      canvas.style.width = width + 'px';
      canvas.style.height = height + 'px';
      canvas.width = Math.floor(width * DPR);
      canvas.height = Math.floor(height * DPR);
      ctx.setTransform(DPR, 0, 0, DPR, 0, 0);
    }

    function rand(a, b) { return a + Math.random() * (b - a); }

    class P {
      constructor() { this.reset(true); }
      reset(initial=false) {
        this.r = rand(cfg.minRadius, cfg.maxRadius);
        this.x = rand(this.r, width - this.r);
        this.y = rand(this.r, height - this.r);
        const a = Math.random() * Math.PI * 2;
        const s = rand(0.05, cfg.maxSpeed);
        this.vx = Math.cos(a) * s;
        this.vy = Math.sin(a) * s;
        this.col = cfg.colors[Math.floor(Math.random() * cfg.colors.length)];
        this.alpha = rand(0.6, 1);
        if (!initial) { /* slightly nudge on respawn */ this.x = rand(this.r, width - this.r); this.y = rand(this.r, height - this.r); }
      }
      step(delta) {
        this.x += this.vx * delta;
        this.y += this.vy * delta;

        // bounce
        if (this.x <= this.r) { this.x = this.r; this.vx *= -1; }
        if (this.y <= this.r) { this.y = this.r; this.vy *= -1; }
        if (this.x >= width - this.r) { this.x = width - this.r; this.vx *= -1; }
        if (this.y >= height - this.r) { this.y = height - this.r; this.vy *= -1; }

        // small jitter
        this.vx += rand(-0.02, 0.02) * 0.1;
        this.vy += rand(-0.02, 0.02) * 0.1;

        // clamp speed
        const sp = Math.hypot(this.vx, this.vy);
        if (sp > cfg.maxSpeed) { this.vx *= cfg.maxSpeed / sp; this.vy *= cfg.maxSpeed / sp; }
      }
      draw() {
        // outer glow
        const g = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, this.r * 4);
        g.addColorStop(0, this.col);
        g.addColorStop(0.5, this.col.replace('0.95', '0.12'));
        g.addColorStop(1, 'rgba(0,0,0,0)');
        ctx.fillStyle = g;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.r * 4, 0, Math.PI * 2);
        ctx.fill();

        // core
        ctx.beginPath();
        ctx.fillStyle = this.col;
        ctx.globalAlpha = this.alpha;
        ctx.arc(this.x, this.y, this.r, 0, Math.PI * 2);
        ctx.fill();
        ctx.globalAlpha = 1;
      }
    }

    function initParticles() {
      particles = [];
      for (let i = 0; i < cfg.particleCount; i++) particles.push(new P());
    }

    function drawLinks() {
      for (let i = 0; i < particles.length; i++) {
        for (let j = i + 1; j < particles.length; j++) {
          const a = particles[i], b = particles[j];
          const dx = a.x - b.x, dy = a.y - b.y;
          const d2 = dx*dx + dy*dy;
          const max2 = cfg.linkDistance * cfg.linkDistance;
          if (d2 <= max2) {
            const t = 1 - (d2 / max2);
            ctx.strokeStyle = `rgba(200,230,255,${(cfg.linkAlpha * t).toFixed(3)})`;
            ctx.lineWidth = Math.max(0.3, t * 1.6);
            ctx.beginPath();
            ctx.moveTo(a.x, a.y);
            ctx.lineTo(b.x, b.y);
            ctx.stroke();
          }
        }
      }
    }

    function repelFromMouse() {
      if (!mouse.active) return;
      for (const p of particles) {
        const dx = p.x - mouse.x, dy = p.y - mouse.y;
        const d2 = dx*dx + dy*dy;
        const r2 = cfg.repelDistance * cfg.repelDistance;
        if (d2 < r2 && d2 > 0.01) {
          const d = Math.sqrt(d2);
          const f = (cfg.repelDistance - d) / cfg.repelDistance;
          const push = 0.9 * f;
          p.vx += (dx/d) * push;
          p.vy += (dy/d) * push;
        }
      }
    }

    // main animation
    function animate(now) {
      const delta = Math.min(1.6, (now - last) / 16.666);
      last = now;

      // clear and soft fade (for subtle trails)
      ctx.clearRect(0, 0, width, height);
      ctx.fillStyle = 'rgba(3,6,23,0.04)';
      ctx.fillRect(0,0,width,height);

      // update
      for (const p of particles) p.step(delta);

      // draw links and particles
      drawLinks();
      for (const p of particles) p.draw();

      repelFromMouse();

      requestAnimationFrame(animate);
    }

    // pointer handling
    function onPointerMove(e) {
      mouse.active = true;
      const r = canvas.getBoundingClientRect();
      mouse.x = (e.clientX - r.left);
      mouse.y = (e.clientY - r.top);
    }
    function onPointerLeave() {
      mouse.active = false;
      mouse.x = -9999; mouse.y = -9999;
    }

    // initialize & handle resize
    function start() {
      resize();
      initParticles();
      last = performance.now();
      requestAnimationFrame(animate);
    }
    window.addEventListener('resize', () => {
      // preserve relative positions
      const prevW = width, prevH = height;
      resize();
      const sx = width / Math.max(prevW, 1);
      const sy = height / Math.max(prevH, 1);
      for (const p of particles) { p.x *= sx; p.y *= sy; }
    });

    function resize() {
      DPR = Math.max(window.devicePixelRatio || 1, 1);
      width = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
      height = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
      canvas.style.width = width + 'px';
      canvas.style.height = height + 'px';
      canvas.width = Math.floor(width * DPR);
      canvas.height = Math.floor(height * DPR);
      ctx.setTransform(DPR, 0, 0, DPR, 0, 0);
    }

    // attach pointer listeners to canvas area
    canvas.addEventListener('mousemove', onPointerMove);
    canvas.addEventListener('mouseleave', onPointerLeave);
    canvas.addEventListener('mouseenter', onPointerMove);

    // start after small timeout so layout settles
    setTimeout(start, 60);

    // expose simple debug API (optional)
    window.__moleculesCFG = cfg;

  })();
  </script>
</body>
</html>
